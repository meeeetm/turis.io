window.package_type=0;window.current_variant=0;setTimeout(function(){new Swiper('.slider',{loop:true,slidesPerView:1,pagination:{el:'.swiper-pagination'},navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev',},autoplay:{delay:5000,},});new Swiper('.mobile-slider',{loop:true,slidesPerView:1,pagination:{el:'.swiper-pagination'},navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev',},autoplay:{delay:5000,},});new Swiper('.newPackSlider1',{on:{init:function(){this.el.querySelector('.js-preloader').classList.add('is-hidden');},},navigation:{nextEl:'.swiper-button-next-newPackSlider1',prevEl:'.swiper-button-prev-newPackSlider1',},breakpoints:{0:{slidesPerView:1.3,spaceBetween:10,centeredSlides:true,},560:{spaceBetween:30,slidesPerView:2,centeredSlides:true,},1024:{slidesPerView:3,spaceBetween:30,centeredSlides:false,},1200:{slidesPerView:3,spaceBetween:30,centeredSlides:false,},1370:{slidesPerView:4,spaceBetween:30,centeredSlides:false,},}});new Swiper('.newPackSlider2',{on:{init:function(){this.el.querySelector('.js-preloader').classList.add('is-hidden');},},navigation:{nextEl:'.swiper-button-next-newPackSlider2',prevEl:'.swiper-button-prev-newPackSlider2',},breakpoints:{0:{slidesPerView:1.3,spaceBetween:10,centeredSlides:true,},560:{spaceBetween:30,slidesPerView:2,centeredSlides:true,},1024:{slidesPerView:3,spaceBetween:30,centeredSlides:false,},1200:{slidesPerView:3,spaceBetween:30,centeredSlides:false,},1370:{slidesPerView:4,spaceBetween:30,centeredSlides:false,},}});new Swiper('.onlineshopSlider',{on:{init:function(){this.el.querySelector('.js-preloader').classList.add('is-hidden');},},navigation:{nextEl:'.swiper-button-next-newPackSlider1',prevEl:'.swiper-button-prev-newPackSlider1',},breakpoints:{0:{slidesPerView:1,spaceBetween:10,centeredSlides:true,},560:{spaceBetween:30,slidesPerView:2,centeredSlides:true,},1024:{slidesPerView:3,spaceBetween:30,centeredSlides:false,},1200:{slidesPerView:4,spaceBetween:30,centeredSlides:false,},1370:{slidesPerView:4.5,spaceBetween:30,centeredSlides:false,},}});$('.multiple-swiper').each(function(index,element){$(this).find(".swiper-container").addClass('swiper_'+index);$(this).find(".swiper-button-prev").addClass("swiper-btn-prev-"+index);$(this).find(".swiper-button-next").addClass("swiper-btn-next-"+index);new Swiper('.swiper_'+index,{on:{init:function(){this.el.querySelector('.js-preloader').classList.add('is-hidden');},},navigation:{nextEl:".swiper-btn-next-"+index,prevEl:".swiper-btn-prev-"+index},breakpoints:{0:{slidesPerView:1,spaceBetween:10,centeredSlides:true,},560:{spaceBetween:30,slidesPerView:2,centeredSlides:true,},1024:{slidesPerView:3,spaceBetween:30,centeredSlides:false,},1200:{slidesPerView:4,spaceBetween:30,centeredSlides:false,},1370:{slidesPerView:4.5,spaceBetween:30,centeredSlides:false,},}});});var productList={};$('.product-list').find('.product-item').each(function(index,element){var product=$(this).attr('product');productList[product]=product;});$('.show-sub-category-btn').click(function(event){var category=$(this).attr('category')
$('.show-sub-category-btn').removeClass('selected');$(this).addClass('selected');if(category==0){$('.product-list').find('.product-item').addClass('hide');for(var productKey in productList){$('.product-list').find("[product='"+productKey+"']:first").removeClass("hide");}}else{$('.product-list').find('.product-item').addClass('hide');$('.product-list').find("[category='"+category+"']").removeClass('hide');}});$('.show-size-guide-btn').click(function(event){var sizeGuideGroup=$(this).attr('size-guide-group');$('.show-size-guide-btn').removeClass('selected');$(this).addClass('selected');$('*[size-guide]').addClass('d-none');$("[size-guide='"+sizeGuideGroup+"']").removeClass('d-none');});$('.new-packs .item').click(function(e){var node=e.target.nodeName;if(node!='path'&&node!='IMG'&&node!='BUTTON'&&node!='svg'&&node!='INPUT'){var wrapper=$(this);$('.new-packs .list .item').removeClass('selected');$(wrapper).addClass('selected');}});$('.pack-info').click(function(){var pack=$(this);$('.pack-info').removeClass('active');pack.addClass('active')
$('.click-info').removeClass('active');$(this).closest('.item').find('.click-info').addClass('active')});$('.white-box .close-btn').click(function(){$('.click-info').removeClass('active');$('.extra-info').removeClass('active');$('.pack-info').removeClass('active');})
$('.new-packs .item .extra svg').click(function(){var pack=$(this);$('.extra-info').removeClass('active');$(this).closest('.item').find('.extra-info').addClass('active')});},500);$("#MobilMenu").mmenu({"extensions":["pagedim-black","position-right","fx-panels-none"],"navbar":{"title":false},navbars:{content:["close"]},});$('.checkboxes .btn').on('click',function(){$(input,this).removeAttr('checked');$(this).removeClass('active');});$('.compare-toggle-link').click(function(){$(this).closest('div').toggleClass('is-active')});$('.compare-close').click(function(){$('.compare-window').removeClass('is-active');});$(document).on("change",".attr-25",function(){let val=$(this).val();window.package_type=val;selectPackage();});$(document).on("click",".basket__payment-items > .basket__payment-item",function(){$(".basket__payment-items > .basket__payment-item").removeClass("basket__payment-item--active");$(this).addClass("basket__payment-item--active");});$(document).on('click','[data-tab-id]',function(e){let tabIndex=$(this).attr('data-tab-index');if(tabIndex!=null){dataLayerDetail(tabIndex);}
$(".pr-feature").show();let tab=$(this).parent(".simple-tab");$('[data-tab-id]',tab).removeClass('active');$(this).addClass('active');$("#"+tab.data("tab-name")).children().hide();if(tab.data("tab-name")=='pack'){$("#"+tab.data("tab-name")+" #"+$(this).data("tab-id")).show();}
var product_id=$(this).attr('data-product-id');var tab_id=$(this).attr('data-tab-id').replace('tab-','');$("#"+tab.data("tab-name")+" #tab-"+tab_id).show();if(parseInt(tab_id)>0){Virtara.Product.Tab.load(product_id,parseInt(tab_id),function(r){$("#tab-"+tab_id).html(r);setTimeout(function(){selectPackage();if($(".newPackSlider3").length>0){new Swiper('.newPackSlider3',{navigation:{nextEl:'.swiper-button-next-newPackSlider3',prevEl:'.swiper-button-prev-newPackSlider3',},breakpoints:{0:{slidesPerView:2,spaceBetween:10,},560:{slidesPerView:2,spaceBetween:30,},1024:{slidesPerView:3,spaceBetween:30,},1200:{slidesPerView:4,spaceBetween:30,},}});}},300)});}
return false;});$(document).on('click','.packed__sss-item',function(e){$(this).toggleClass("active");});$('[data-toggle="tooltip"]').tooltip();$(".next").on("click touch",function(){$(this).closest('div').find('.next-text').slideToggle();$(this).closest('div').find('.next').fadeToggle(300)});$(document).ready(function(){$('#showSideCart').click(function(){location.href=window.location.origin+'/'+Virtara.path+(Virtara.path!=''?'/':'')+window.sys_links.ORDER_PAGE;});$('body').click(function(e){var sideMenu=$('#sideBasket');if(!sideMenu.is(e.target)&&sideMenu.has(e.target).length===0)
{sideMenu.removeClass('right-open');}
if(e.target.id=="backBtn"){sideMenu.removeClass('right-open');}});$('.selectpicker').selectpicker();});$(document).on('click','#switchLocalize',function(){var language=$("#changeLanguage").val();var currency=$("#changeCurrency").val();Virtara.Session.changeCurrency(currency,function(){Virtara.Session.changeLanguage(language,function(r){location.href=Virtara.path+'/'+r.data.location;});});return false;});$('.add').click(function(){var th=$(this).closest('.input-number').find('.count');th.val(+th.val()+1);});$('.sub').click(function(){var th=$(this).closest('.input-number').find('.count');if(th.val()>1)
th.val(+th.val()-1);});Virtara.Callback.Cart.add.push(function(r){let lang=Virtara.Locale.lang?Virtara.Locale.lang:{};if(r.status){location.href=window.location.origin+'/'+Virtara.path+(Virtara.path!=''?'/':'')+window.sys_links.ORDER_PAGE;}else{let errors={variant_not_found_error:{title:"cart_not_completed_select_title",text:"cart_not_completed_select_description"},out_of_stock:{title:"cart_stock_error_title",text:"cart_stock_error_description"},}
swal({title:((errors[r.message])?lang[errors[r.message].title]:"Sistem Hatası"),text:((errors[r.message])?lang[errors[r.message].text]:"Lütfen daha sonra tekrar deneyiniz."),type:"warning",showCancelButton:false,confirmButtonColor:'#DD6B55',confirmButtonText:lang['ok'],closeOnConfirm:false,});}});$(document).on('click','.compare-btn',function(){$(this).closest('.compare-bottom-fixed').toggleClass('active');});$('.package-list.multiple .item').click(function(){$(this).toggleClass('active');});$('.print').on("click",function(){$('.print-area').printThis({importCSS:false,loadCSS:window.location.origin+Virtara.path+'/themes/web/digiturk//assets/css/style.css',});});function selectPackage(){var packageMapping={30:2,31:1};if(window.package_type!==0){let dom=$("#channel-filter-"+packageMapping[window.package_type]);if(dom.length>0){dom.trigger('click');}}}
$('.js-anchor-button').click(function(){$('html, body').animate({scrollTop:$($.attr(this,'href')).offset().top},500);return false;});$('body').prepend($('#gonderim-kargo')).prepend($('#iade'));$(document).click(function(event){var $target=$(event.target);if(!$target.closest('.title.red .pack-info').length&&!$target.closest('.box .click-info .check-list li a').length&&$('.box .click-info').hasClass("active")){$('.box .click-info').removeClass("active");}});$(document).ready(function(){$(".c-accordion .c-accordion__title").click(function(){if(!$(this).parent().hasClass("is-active")){$(this).parent().addClass("is-active");$(this).parent().siblings().removeClass("is-active");$(".c-accordion .c-accordion__content").hide(500);$(this).parent().children(".c-accordion__content").show(500);}else if($(this).parent().hasClass("is-active")){$(this).parent().removeClass("is-active");$(".c-accordion .c-accordion__content").hide(500);}});});$(document).ready(function(){function makeReachUsWhatsappVisible(){$(".js-reach-us-whatsapp").addClass('is-visible');}
window.addEventListener('scroll',function(event){var last_known_scroll_position=window.scrollY;if(last_known_scroll_position>500){makeReachUsWhatsappVisible();}});setTimeout(()=>{makeReachUsWhatsappVisible();},4000);});$(document).ready(function(){function addExtraPricesProductCards(element){var oldBasePrice=element.data('oBasePrice').toString();var oldSalePrice=element.data('oSalePrice').toString();var basePrice=element.data('basePrice').toString();var salePrice=element.data('salePrice').toString();var parentCard=element.closest('.item');var oldPriceElement=$(".box del",parentCard);var newPriceElement=$(".box .price-area .price p",parentCard);if(oldPriceElement.length>0&&newPriceElement.length>0){var oldPriceElementFirst=oldPriceElement[0].childNodes[0];var newPriceElementFirst=newPriceElement[0].childNodes[1];if(oldPriceElementFirst.textContent!==basePrice){oldPriceElementFirst.textContent=basePrice;}else{oldPriceElementFirst.textContent=oldBasePrice;}
if(newPriceElementFirst.textContent!==salePrice){newPriceElementFirst.textContent=salePrice;}else{newPriceElementFirst.textContent=oldSalePrice;}}else if(newPriceElement.length>0){var newPriceElementFirst=newPriceElement[0].childNodes[0];if(oldSalePrice===salePrice){}else if(newPriceElementFirst.textContent!==salePrice){newPriceElementFirst.textContent=salePrice;}else{newPriceElementFirst.textContent=oldSalePrice;}}}
function convertExtraPrice(price,currency){let newPrice=price.toFixed(2);let priceParts=newPrice.split('.');return priceParts[0]+'<span>,'+priceParts[1]+'</span>'+'<span> '+currency+'</span>';}
function newAddExtraPricesProductCards(element){let checked=element[0].checked;let oldBasePrice=element.data('oBasePrice');let oldSalePrice=element.data('oSalePrice');let basePrice=element.data('basePrice');let salePrice=element.data('salePrice');let currency=element.data('currency');let parentCard=element.closest('.item');let oldPriceElement=$(".box del",parentCard);let newPriceElement=$(".box .price-area .price p",parentCard);if(oldPriceElement.length>0){oldPriceElement[0].innerHTML=convertExtraPrice(((checked)?basePrice:oldBasePrice),currency);}
if(newPriceElement.length>0){let newPriceInnerHtml='';if(oldPriceElement.length>0){newPriceInnerHtml='<del>'+oldPriceElement[0].innerHTML+'</del> ';}
newPriceInnerHtml+=convertExtraPrice(((checked)?salePrice:oldSalePrice),currency);newPriceElement[0].innerHTML=newPriceInnerHtml;}}
$(".box .extra .radio input").on('change',function(){newAddExtraPricesProductCards($(this));});$(".box .extra .radio input").each(function(){if($(this).is(":checked")){newAddExtraPricesProductCards($(this));}});});$(document).on('click','.package-box',function(){let href=$(this).find('a').attr('href');if(href){location.href=href;}})
$(document).ready(function(){var shopThumbs=new Swiper(".shop-thumb",{spaceBetween:10,slidesPerView:4,freeMode:true,watchSlidesVisibility:true,watchSlidesProgress:true,});var shopGallery=new Swiper(".shop-gallery",{pagination:{el:".shop-gallery-pagination",clickable:true,},thumbs:{swiper:shopThumbs,},});var similarproducts=new Swiper(".similar-swiper",{slidesPerView:5,spaceBetween:20,pagination:{el:".similar-pagination",clickable:true,},breakpoints:{0:{slidesPerView:2,spaceBetween:10,},992:{slidesPerView:3,spaceBetween:20,},1100:{slidesPerView:5,spaceBetween:20,},},});});window.addEventListener('load',function(){$('*[custom-select]').each(function(){var index=$(this).attr('custom-select');$(".custom_select_"+index).selectpicker();});window.addEventListener("pageshow",()=>{$('*[custom-select]').each(function(){var index=$(this).attr('custom-select');var sVal=$("select.custom_select_"+index+" option:first").val();$(".custom_select_"+index).selectpicker('val',sVal);$(".custom_select_"+index).selectpicker('render');});});})
function sprintf(pattern,params){var i=0;return pattern.replace(/%(s|d|0\d+d)/g,function(x,type){var value=params[i++];switch(type){case 's':return value;case 'd':return parseInt(value,10);default:value=String(parseInt(value,10));var n=Number(type.slice(1,-1));return '0'.repeat(n).slice(value.length)+value;}});}
$('form[name="lottery-form"]').submit(function(e){e.preventDefault();let form=$(this);let data={};form.serializeArray().forEach(item=>{data[item.name]=item.value;});let lang=Virtara.Locale.lang;$.ajax({type:form[0].method,url:form[0].action,contentType:'application/json',data:JSON.stringify(data),success:function(response){if(response.status){swal({title:lang.raffling_request_success,text:sprintf(lang.raffling_request_success_message,[response.data.participant_id]),type:"success",showCancelButton:false,confirmButtonColor:'#DD6B55',confirmButtonText:lang.ok,closeOnConfirm:false,});form[0].reset();}else{swal({title:lang.raffling_request_error,text:(response.message=="already_joined_with_this_email"?lang.raffling_request_already_joined_message:lang.raffling_request_error_message),type:"error",showCancelButton:false,confirmButtonColor:'#DD6B55',confirmButtonText:lang.ok,closeOnConfirm:false,});}},error:function(error){swal({title:lang.raffling_request_error,text:"Sistem hatası, Lütfen daha sonra tekrar deneyin.",type:"error",showCancelButton:false,confirmButtonColor:'#DD6B55',confirmButtonText:lang.ok,closeOnConfirm:false,});}});});var refreshCustomSelects=function(){setTimeout(()=>{$('*[custom-select]').each(function(){var index=$(this).attr('custom-select');$(".custom_select_"+index).selectpicker('refresh');});},0);}
$(document).on('click','.notify-in-stock-button',function(e){let productID=$(this).data('product-id');let variantID=$(this).data('variant-id');if(productID&&window.VueComponent&&window.VueComponent.NotifyInStock){let notifyInStockVue=window.VueComponent.NotifyInStock;notifyInStockVue.form.data.product_id=productID;notifyInStockVue.form.data.variant_id=variantID??0;$('#notifyInStock').modal('show');}});$(document).on('click','.openPersonalizationModal',function(e){if(window.VueComponent&&window.VueComponent.Product){let productVue=window.VueComponent.Product;productVue.personalizationModal.variant={id:$(this).data('variant_id')};$('#personalizationID').modal('show');}});$(document).on('change','.countrySelect',function(e){const stateSelect=$('.stateSelect');if(stateSelect.length){stateSelect.find('option').not(':first').remove();let states=$('option:selected',this).data('states');if(states){states.forEach((state)=>{stateSelect.append('<option value="'+state.id+'">'+state.name+'</option>');});}}});